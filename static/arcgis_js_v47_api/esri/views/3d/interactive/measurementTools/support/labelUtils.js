// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.7/esri/copyright.txt for details.
//>>built
define(["require","exports","./viewUtils","../../../lib/glMatrix"],function(z,b,q,a){function r(g,c,a){g.projectPoint(c,d);if(0>d[2]||1<d[2])return!1;a[0]=d[0];a[1]=d[1];a[1]=g.height-a[1];return!0}function t(g,c,y,l,e,h){if(!c)return!1;q.screenSpaceTangent(c.start,c.end,n,g);a.vec2d.set2(-n[1],n[0],f);var b=!1;switch(l){case "top":b=0>f[1];break;case "bottom":b=0<f[1];break;case "left":b=0<f[0];break;case "right":b=0>f[0]}b&&a.vec2d.negate(f);if(0===a.vec2d.length(f))switch(l){case "top":f[1]=1;
break;case "bottom":f[1]=-1;break;case "left":f[0]=-1;break;case "right":f[0]=1}g.projectPoint(c.origin,d);if(0>d[2]||1<d[2])return!1;e[0]=d[0];e[1]=d[1];a.vec2d.scale(f,y,h);a.vec2d.add(h,e,h);e[1]=g.height-e[1];h[1]=g.height-h[1];return!0}function u(g,c,b,l,e,h){if(!c||!b)return!1;q.screenSpaceTangent(c.end,c.start,n,g);q.screenSpaceTangent(b.start,b.end,v,g);a.vec2d.add(n,v,f);a.vec2d.negate(f);a.vec2d.normalize(f);g.projectPoint(c.end,d);if(0>d[2]||1<d[2])return!1;e[0]=d[0];e[1]=d[1];a.vec2d.scale(f,
l,h);a.vec2d.add(h,e,h);e[1]=g.height-e[1];h[1]=g.height-h[1];return!0}function w(g,c,b,l,e,h){g.projectPoint(c,d);a.vec3d.add(c,b,x);g.projectPoint(x,p);if(0>d[2]||1<d[2]||0>p[2]||1<p[2])return!1;a.vec2d.subtract(p,d,f);a.vec2d.normalize(f);a.vec2d.set(d,e);a.vec2d.scale(f,l,h);a.vec2d.add(h,e,h);e[1]=g.height-e[1];h[1]=g.height-h[1];return!0}Object.defineProperty(b,"__esModule",{value:!0});b.mirrorPosition=function(a){switch(a){case "top":return"bottom";case "right":return"left";case "bottom":return"top";
case "left":return"right"}};b.computeLabelPositionFromPoint=r;b.positionLabelOnPoint=function(a,c,b){(c=r(b,c,k))&&a.updatePosition(k,null);return c};b.computeLabelPositionFromSegment=t;b.positionLabelOnSegment=function(a,c,b,d,e){(c=t(e,c,b,d,k,m))&&a.updatePosition(k,m);return c};b.computeLabelPositionFromCorner=u;b.computeLabelPositionFromPlane=w;b.positionLabelOnCorner=function(a,c,b,d,e){(c=u(e,c,b,d,k,m))&&a.updatePosition(k,m);return c};b.positionLabelOnPlane=function(a,c,b,d,e,f){(c=w(f,c,
b,d,k,m))&&a.updatePosition(k,m);return c};var n=a.vec2d.create(),v=a.vec2d.create(),f=a.vec2d.create(),d=a.vec3d.create(),p=a.vec3d.create(),x=a.vec3d.create(),k=a.vec2d.create(),m=a.vec2d.create()});