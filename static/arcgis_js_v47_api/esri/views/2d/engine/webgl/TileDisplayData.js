// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.7/esri/copyright.txt for details.
//>>built
define(["require","exports","./WGLDisplayList","./WGLDisplayObject","./util/serializationUtils"],function(n,p,h,l,m){return function(){function c(){}Object.defineProperty(c.prototype,"displayObjectRegistry",{get:function(){if(!this._displayObjectRegistry){this._displayObjectRegistry=new Map;for(var a=0,b=this.displayObjects;a<b.length;a++){var e=b[a];this._displayObjectRegistry.set(e.id,e)}}return this._displayObjectRegistry},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"displayList",
{get:function(){if(!this._displayList){this._displayList=new h;for(var a=0,b=this.displayObjects;a<b.length;a++)for(var e=0,c=b[a].displayRecords;e<c.length;e++)this._displayList.addToList(c[e])}return this._displayList},set:function(a){this._displayList=a},enumerable:!0,configurable:!0});c.prototype.serialize=function(a){m.serializeList(a,this.displayObjects);return a};c.prototype._deserializeObjects=function(a){for(var b=a.readInt32(),b=Array(b),c=new h,k=new Map,f=0;f<b.length;++f){var d=l.deserialize(a);
b[f]=d;k.set(d.id,d);for(var g=0,d=d.displayRecords;g<d.length;g++)c.addToList(d[g])}this.displayObjects=b;this._displayList=c;this._displayObjectRegistry=k};c.deserialize=function(a){var b=new c;b._deserializeObjects(a);return b};return c}()});