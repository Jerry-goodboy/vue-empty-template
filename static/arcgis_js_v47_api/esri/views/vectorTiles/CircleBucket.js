// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.7/esri/copyright.txt for details.
//>>built
define(["require","exports","../../core/tsSupport/extendsHelper","../../core/tsSupport/decorateHelper","./Bucket"],function(H,I,E,J,F){return function(h){function b(d,G,b,a){d=h.call(this,d,G)||this;d._circleVertexBuffer=b;d._circleIndexBuffer=a;return d}E(b,h);Object.defineProperty(b.prototype,"circleIndexStart",{get:function(){return this._circleIndexStart},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"circleIndexCount",{get:function(){return this._circleIndexCount},enumerable:!0,
configurable:!0});b.prototype.assignBufferInfo=function(d){d._circleIndexStart=this._circleIndexStart;d._circleIndexCount=this._circleIndexCount};b.prototype.processFeatures=function(d,b){b=this._circleVertexBuffer;var t=this._circleIndexBuffer;this._circleIndexStart=t.index;this._circleIndexCount=0;var a=this.layer,c=this.zoom;d&&d.setExtent(this.layerExtent);for(var k=a.getPaintValue("circle-radius",c),l=a.getPaintValue("circle-color",c),m=a.getPaintValue("circle-opacity",c),n=a.getPaintValue("circle-blur",
c),p=a.getPaintValue("circle-stroke-width",c),q=a.getPaintValue("circle-stroke-color",c),r=a.getPaintValue("circle-stroke-opacity",c),u=a.getPaintProperty("circle-radius"),v=a.getPaintProperty("circle-color"),w=a.getPaintProperty("circle-opacity"),x=a.getPaintProperty("circle-blur"),y=a.getPaintProperty("circle-stroke-width"),z=a.getPaintProperty("circle-stroke-color"),a=a.getPaintProperty("circle-stroke-opacity"),A=0,h=this._features;A<h.length;A++){var e=h[A],B=e.getGeometry(d);if(B)for(u&&u.isDataDriven&&
(k=u.getValue(c,e)),v&&v.isDataDriven&&(l=v.getValue(c,e)),w&&w.isDataDriven&&(m=w.getValue(c,e)),x&&x.isDataDriven&&(n=x.getValue(c,e)),y&&y.isDataDriven&&(p=y.getValue(c,e)),z&&z.isDataDriven&&(q=z.getValue(c,e)),a&&a.isDataDriven&&(r=a.getValue(c,e)),e=0;e<B.length;e++){var C=B[e];if(C)for(var D=0;D<C.length;D++){var f=C[D],g=b.index;b.add(f.x,f.y,0,0,k,l,m,n,p,q,r);b.add(f.x,f.y,0,1,k,l,m,n,p,q,r);b.add(f.x,f.y,1,0,k,l,m,n,p,q,r);b.add(f.x,f.y,1,1,k,l,m,n,p,q,r);t.add(g+0,g+1,g+2);t.add(g+1,g+
2,g+3);this._circleIndexCount+=6}}}};return b}(F)});